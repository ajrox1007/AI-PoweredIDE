@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Dark Purple/Blue Gradient Theme */
    --background: 225 6% 8%; /* Very Dark Grey/Almost Black */
    --foreground: 210 17% 85%; /* Slightly brighter Light Grey */
    --card: 225 6% 12%; /* Darker card background */
    --card-foreground: 210 17% 85%;
    --popover: 225 6% 10%; /* Dark popover */
    --popover-foreground: 210 17% 85%;
    --primary: 210 17% 85%; /* Matches foreground */
    --primary-foreground: 225 6% 10%;
    --secondary: 225 6% 18%; /* Slightly lighter secondary elements */
    --secondary-foreground: 210 17% 85%;
    --muted: 225 6% 22%; /* Muted gray */
    --muted-foreground: 215 10% 55%; /* Adjusted muted text color */
    --accent: 260 70% 65%; /* PRIMARY ACCENT IS NOW PURPLE */
    --accent-foreground: 210 17% 98%; /* White/Very light gray for text on accent */
    --destructive: 0 72% 51%; /* Standard Red */
    --destructive-foreground: 210 17% 98%;
    --border: 225 6% 15%; /* Darker border */
    --input: 225 6% 14%; /* Darker input background */
    --ring: 260 70% 65%; /* Ring color matches purple accent */
    --radius: 0.3rem;

    /* Custom Sidebar Colors (Adjust if needed, or remove if inheriting) */
    --sidebar-background: 225 6% 10%; /* Darker sidebar */
    --sidebar-foreground: 210 17% 85%;
    --sidebar-border: 225 6% 15%;
    --sidebar-accent: 260 70% 65%; /* Purple accent */
    --sidebar-accent-foreground: 210 17% 98%;

    /* Chart colors (Keeping existing ones) */
    --chart-1: 220 70% 50%;
    --chart-2: 160 70% 50%;
    --chart-3: 30 70% 50%;
    --chart-4: 280 70% 50%;
    --chart-5: 340 70% 50%;

    --font-mono: Menlo, Monaco, Consolas, 'Courier New', monospace;
    --font-sans: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; /* Define sans-serif stack */
  }

  .dark {
    /* Mirror the :root variables */
    --background: 225 6% 8%;
    --foreground: 210 17% 85%;
    --card: 225 6% 12%;
    --card-foreground: 210 17% 85%;
    --popover: 225 6% 10%;
    --popover-foreground: 210 17% 85%;
    --primary: 210 17% 85%;
    --primary-foreground: 225 6% 10%;
    --secondary: 225 6% 18%;
    --secondary-foreground: 210 17% 85%;
    --muted: 225 6% 22%;
    --muted-foreground: 215 10% 55%;
    --accent: 260 70% 65%;
    --accent-foreground: 210 17% 98%;
    --destructive: 0 72% 51%;
    --destructive-foreground: 210 17% 98%;
    --border: 225 6% 15%;
    --input: 225 6% 14%;
    --ring: 260 70% 65%;

    --sidebar-background: 225 6% 10%;
    --sidebar-foreground: 210 17% 85%;
    --sidebar-border: 225 6% 15%;
    --sidebar-accent: 260 70% 65%;
    --sidebar-accent-foreground: 210 17% 98%;

    --chart-1: 220 70% 50%;
    --chart-2: 160 70% 50%;
    --chart-3: 30 70% 50%;
    --chart-4: 280 70% 50%;
    --chart-5: 340 70% 50%;
  }

  * {
    @apply border-border;
  }

  /* Modern scrollbar - updated colors */
  ::-webkit-scrollbar {
    width: 8px; /* Slightly wider */
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(var(--background) / 0.5); /* Semi-transparent background */
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted) / 0.7); /* Muted thumb */
    border-radius: 4px;
    border: 2px solid transparent; /* Add padding */
    background-clip: padding-box;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--accent) / 0.8); /* Purple accent on hover */
  }

  body {
    @apply text-foreground antialiased;
    font-family: var(--font-sans); /* DEFAULT FONT NOW SANS-SERIF */
    min-width: 320px;
    min-height: 100vh;
    overflow: hidden;
    /* Apply the gradient background globally */
    background: linear-gradient(135deg, hsl(260, 50%, 10%), hsl(230, 50%, 12%), hsl(var(--background)));
    background-attachment: fixed; /* Keep gradient fixed during scroll */
  }

  /* Ensure inputs/textareas use sans-serif by default */
  input,
  textarea,
  select,
  button {
    font-family: inherit;
  }

  /* Code elements should still use monospace */
  code, pre, .font-mono, .monaco-editor {
     font-family: var(--font-mono) !important; /* Ensure monospace override */
  }

  /* Reset base heading styles if needed, or rely on utilities */
  h1, h2, h3, h4, h5, h6 {
     /* font-family: inherit; */ /* Optional: if you want headings to also be monospace */
  }

  /* Keep scrollbar-thin utility if used elsewhere, or remove */
  .scrollbar-thin {
     scrollbar-width: thin;
     scrollbar-color: hsl(var(--muted)) hsl(var(--background));
  }

  /* Remove or adapt old neon/cyberpunk specific styles if they exist */
  .neon-text, .glitch-text, .cyberpunk-box, .neon-pink, .neon-blue, .neon-green, .neon-border {
    /* Remove or redefine these based on new design */
    /* Example: removing properties */
    text-shadow: none;
    color: inherit; /* Reset color */
    border: inherit; /* Reset border */
    box-shadow: none;
    background: none;
  }
   .cyberpunk-box::before, .cyberpunk-box::after {
    display: none; /* Remove pseudo-elements */
  }

   /* Remove specific Monaco Editor overrides if using theme */
  /* .monaco-editor .suggest-widget { ... } */
  /* .monaco-suggestion { ... } */
  /* .monaco-suggestion.focused { ... } */
  /* .resize-handle { ... } */
  /* .gutter { ... } */
  /* .gutter:hover { ... } */
  /* .cmd-k-overlay { ... } */

   /* Remove old syntax highlighting overrides if using theme */
  /* .syntax-token { ... } */
  /* .syntax-keyword { ... } */
  /* .syntax-string { ... } */
  /* .syntax-comment { ... } */
  /* .syntax-number { ... } */
  /* .syntax-function { ... } */
  /* .syntax-type { ... } */

  /* Remove old scrollbar styles */
  /* These are duplicated and replaced by the 'Modern scrollbar' section above */

}

/* Add other layers or styles below if necessary */

/* Ensure html, body, and root take full viewport */
html,
body,
#root {
  height: 100vh;
  width: 100vw;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

*, *::before, *::after {
  box-sizing: inherit;
}

/* General button styling (can be component-specific via @apply) */
/* Example: If not using Tailwind components for buttons */
/*
button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: hsl(var(--secondary));
  color: hsl(var(--secondary-foreground));
  cursor: pointer;
  transition: border-color 0.25s, background-color 0.25s;
}
button:hover {
  border-color: hsl(var(--primary));
  background-color: hsl(var(--accent));
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}
*/

/* Custom utility for subtle text */
.text-subtle {
  color: hsl(var(--muted-foreground));
}

/* Custom utility for icon-like buttons */
.icon-button {
  background: none;
  border: none;
  padding: 0.25em;
  color: hsl(var(--muted-foreground));
  transition: color 0.2s ease-in-out;
}

.icon-button:hover {
  color: hsl(var(--foreground));
  /* background-color: hsl(var(--accent)); */ /* Optional subtle background */
}

/* Styling for react-resizable handles */
.react-resizable-handle {
  background: hsl(var(--muted));
  opacity: 0.7;
  transition: opacity 0.2s, background-color 0.2s;
}

.react-resizable-handle:hover {
  background: hsl(var(--accent));
  opacity: 1;
}

/* Specific handle styles */
.react-resizable-handle-e {
  width: 5px !important;
  cursor: col-resize;
  right: -2.5px; /* Center the handle */
  height: 100%;
  top: 0;
}

.react-resizable-handle-s {
  height: 5px !important;
  cursor: row-resize;
  bottom: -2.5px; /* Center the handle */
  width: 100%;
  left: 0;
}

/* Monaco Editor specific styles (if needed beyond theme) */
.monaco-editor .view-overlays .current-line {
  border: none !important; /* Remove default border */
  /* Use theme's line highlight or define custom */
  /* background-color: hsla(var(--accent), 0.1); */
}

.monaco-editor .margin {
  /* Use theme's gutter background or define custom */
  /* background-color: hsl(var(--background)) !important; */
}

.monaco-editor {
  /* Global editor styles */
}

/* AI Activity Decorations */
.ai-modifying-line .view-line {
  /* Subtle background pulse or color change */
  /* background-color: hsl(var(--accent) / 0.05); */
  animation: pulse-bg 1.5s infinite ease-in-out;
}

.ai-modifying-glyph {
  /* Use a lucide icon or a symbol */
  /* background-image: url('data:image/svg+xml,...'); */
  background-color: hsl(var(--accent) / 0.7);
  width: 4px !important;
  margin-left: 3px;
  border-radius: 2px;
}

@keyframes pulse-bg {
  0% { background-color: hsl(var(--accent) / 0.03); }
  50% { background-color: hsl(var(--accent) / 0.10); }
  100% { background-color: hsl(var(--accent) / 0.03); }
}

/* Monaco Editor specific overrides (Ensure they don't conflict) */
/* ... potentially existing monaco styles ... */
